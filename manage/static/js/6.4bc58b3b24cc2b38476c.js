webpackJsonp([6],{137:function(t,e,i){i(461);var n=i(65)(i(304),i(517),"data-v-2b6e1154",null);t.exports=n.exports},162:function(t,e,i){"use strict";i.d(e,"G",function(){return o}),i.d(e,"b",function(){return s}),i.d(e,"c",function(){return r}),i.d(e,"B",function(){return c}),i.d(e,"d",function(){return l}),i.d(e,"C",function(){return d}),i.d(e,"D",function(){return u}),i.d(e,"A",function(){return _}),i.d(e,"F",function(){return p}),i.d(e,"v",function(){return f}),i.d(e,"z",function(){return m}),i.d(e,"o",function(){return h}),i.d(e,"w",function(){return v}),i.d(e,"x",function(){return g}),i.d(e,"m",function(){return b}),i.d(e,"y",function(){return y}),i.d(e,"n",function(){return x}),i.d(e,"p",function(){return S}),i.d(e,"r",function(){return k}),i.d(e,"s",function(){return w}),i.d(e,"t",function(){return C}),i.d(e,"q",function(){return P}),i.d(e,"u",function(){return O}),i.d(e,"H",function(){return A}),i.d(e,"l",function(){return z}),i.d(e,"h",function(){return T}),i.d(e,"e",function(){return E}),i.d(e,"g",function(){return F}),i.d(e,"i",function(){return $}),i.d(e,"j",function(){return j}),i.d(e,"f",function(){return B}),i.d(e,"k",function(){return H}),i.d(e,"a",function(){return M}),i.d(e,"E",function(){return V});var n=i(66),a=(i(35),i(64)),o=function(t){return i.i(n.a)("/guanmei/config/index",t,"POST").then(a.b)},s=function(t){return i.i(n.a)("/guanmei/config/edit",t,"POST").then(a.b)},r=function(t){return i.i(n.a)("/guanmei/config/value",t,"POST").then(a.b)},c=function(t){return i.i(n.a)("/guanmei/admin_user/index",t,"POST").then(a.b)},l=function(t){return i.i(n.a)("/guanmei/admin_user/edit",t,"POST").then(a.b)},d=function(t){return i.i(n.a)("/guanmei/admin_user/verify",t,"POST").then(a.b)},u=function(t){return i.i(n.a)("/guanmei/admin_user/del",t,"POST").then(a.b)},_=function(t){return i.i(n.a)("/guanmei/admin_user/info",t,"POST").then(a.b)},p=function(t){return i.i(n.a)("/guanmei/admin_user/setIsVip",t,"POST").then(a.b)},f=function(t){return i.i(n.a)("/guanmei/admin_group/index",t,"POST").then(a.b)},m=function(t){return i.i(n.a)("/guanmei/admin_group/all_list",t,"POST").then(a.b)},h=function(t){return i.i(n.a)("/guanmei/admin_group/edit",t,"POST").then(a.b)},v=function(t){return i.i(n.a)("/guanmei/admin_group/verify",t,"POST").then(a.b)},g=function(t){return i.i(n.a)("/guanmei/admin_group/del",t,"POST").then(a.b)},b=function(t){return i.i(n.a)("/guanmei/admin_group/info",t,"POST").then(a.b)},y=function(t){return i.i(n.a)("/guanmei/admin_group/sort",t,"POST").then(a.b)},x=function(t){return i.i(n.a)("/guanmei/admin_purview/tree",t,"POST").then(a.b)},S=function(t){return i.i(n.a)("/guanmei/admin_purview/all_list",t,"POST").then(a.b)},k=function(t){return i.i(n.a)("/guanmei/admin_purview/edit",t,"POST").then(a.b)},w=function(t){return i.i(n.a)("/guanmei/admin_purview/verify",t,"POST").then(a.b)},C=function(t){return i.i(n.a)("/guanmei/admin_purview/del",t,"POST").then(a.b)},P=function(t){return i.i(n.a)("/guanmei/admin_purview/info",t,"POST").then(a.b)},O=function(t){return i.i(n.a)("/guanmei/admin_purview/sort",t,"POST").then(a.b)},A=function(t){return i.i(n.a)("/guanmei/admin_purview/get_menu",t,"POST").then(a.b)},z=function(t){return i.i(n.a)("/guanmei/admin_log/index",t,"POST").then(a.b)},T=function(t){return i.i(n.a)("/guanmei/admin_orgnize/tree",t,"POST").then(a.b)},E=function(t){return i.i(n.a)("/guanmei/admin_orgnize/all_list",t,"POST").then(a.b)},F=function(t){return i.i(n.a)("/guanmei/admin_orgnize/edit",t,"POST").then(a.b)},$=function(t){return i.i(n.a)("/guanmei/admin_orgnize/verify",t,"POST").then(a.b)},j=function(t){return i.i(n.a)("/guanmei/admin_orgnize/del",t,"POST").then(a.b)},B=function(t){return i.i(n.a)("/guanmei/admin_orgnize/info",t,"POST").then(a.b)},H=function(t){return i.i(n.a)("/guanmei/admin_orgnize/sort",t,"POST").then(a.b)},M=function(t){return i.i(n.a)("/guanmei/statistics_biz/get_month_data_by_year",t,"POST").then(a.b)},V=function(t){return i.i(n.a)("/guanmei/admin/del_app_login_token",t,"POST")}},163:function(t,e,i){t.exports={default:i(165),__esModule:!0}},164:function(t,e,i){"use strict";e.__esModule=!0;var n=i(163),a=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=a.default||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}},165:function(t,e,i){i(167),t.exports=i(2).Object.assign},166:function(t,e,i){"use strict";var n=i(15),a=i(37),o=i(22),s=i(36),r=i(70),c=Object.assign;t.exports=!c||i(11)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=c({},t)[i]||Object.keys(c({},e)).join("")!=n})?function(t,e){for(var i=s(t),c=arguments.length,l=1,d=a.f,u=o.f;c>l;)for(var _,p=r(arguments[l++]),f=d?n(p).concat(d(p)):n(p),m=f.length,h=0;m>h;)u.call(p,_=f[h++])&&(i[_]=p[_]);return i}:c},167:function(t,e,i){var n=i(9);n(n.S+n.F,"Object",{assign:i(166)})},168:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEvElEQVRYR+2WbVBUVRjH/+feZZddWFgWWDbCoFBeR94MccZ0GCmnGsKwwB0JB3UaXhqSMm2GRmWUmkwLiimxwpBmbIMmAXXKMcvJQHwhBXnZhnDQVQQEXGRZdmHvnuZuwqDswvJFv/B8u3Of8z+/+T/Pc84heMxBHvP+mAd4FA4oWKnnQa+o52Oki2KFsmcT1Jdyot+ZKP2jAPg6anf1Kq9liYGmji50HStCYObuwjPJnjt4iBkBqEoZAIaVkSO3rthqVt0beTEWhpXIKz79y14zuwSEqaMLT6yzcOMQuntDd/5PGA23/9F8nhViE4D2RLgQZfMI/5NmyGTWpHKdztYGwym53maWdfFQF3fZA3By86p4rqwj/d7NFgjFHtBrroBIxeeb97y2bBoA7VgogkkYCZYRkNCWehuiUQB4qCEAbQBMEzm0PSSAhGomQWjFewqyYX8fAJXPitcz/VXb4scG+9D9y2FLZEHVklOridXVaSWg7SFBkDjdIf5X704BWOckQIFcxorCFzkbFiuFMku/RVLXZeRkIpwLYE1pZbWhCSS4vdrqXNl233EG24QbP5lothBpYMxmz+gXpObU/Pybqe6DjjYhC+CHiGCR7x/fPx0hkwqkk1A6DpZ6E4416FFy6d7Y1li3pMTKvpNzPdgmHQiuoVJ21LK+TcUevC/CAFDvyVN45mcqVtkUphS4Zsa1X/VY//MdfPmifOPSQz3lc4F4oAThlTSsNZXwteUjOz5WvPx0RWCaXUEeYJyCVo3iwi0jPmsYslStlQWQD7u1jkLYHUMnAZqHGsOVIiHxnk2M1owAwxRvnxyAKkJSvfJQb/Jsa6b1AFUt8CVqbff9H9FxkZKP69XPrHZIaIyC/jSC+hsmnNWOmvNX6kSkAJaH19LWcFcwXDAJ1TTaAFAGEHXPxBip3s3wTNz3/hP27X9IndYaMNBrRv7vd/Hty3Jf8tH129aJ2PFUODQ3NKQKHNUE+4I6xZDQluOzTcGbe7Z4x+Vn+Wy2ilCKrF3d2LddCTdXfjCmBz1ugHGAw6bafvy4Vr6QFGo7HXHPXg8kvxIvXV59wH+rVcQIlB4dQFqSDFKX/wH+vW7CuSsGpK/xsH7TqhFc7zOj5OIQilaIXcn+XutpOls8AEArc1xJ6ld6AL5iZ6ZYfzksBaDAVQZYTDFqtEDszE8n0NJhRM1v9/BBtgLQcaAnjChvGoaAoCOjtj+IzwlVc1sYhjk1ZbKm8cx0GZ1tPBrYHxUifnVi1c6iHlSqdSgtWYD4pS7ATQB+AG0wAZ1mvHSkB98lyTf6Fd+yngXhlVTemkomTz1bbswEkMAw+GKoMcxL4swo+MUcR1H3twFxkWKIhIwVgArMwGkTyi4Pg6OWtuylg4ttTYC9Usz2Hsh1l7IbtGeCPFwkbOC0sdKOA3UmlF4YxoCJ69wZK19C9l7jLyqHYzYAXmgTAXalr5FpC/MU/k8qhX58zceaxtB00YC9DUMmpYQ5fOCiPtPhXackOgLAp/sDyAEQ7ewENx83gUw/yumHjbRyzIJvAEy9OefE4SjAnETnkjwPMNWBtwCkAMgFwHd83lystJHL3ysFAPgzIQNA8f3nXPzU3PkSzDvwH1iQrTBfEt9eAAAAAElFTkSuQmCC"},169:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(69),a=i.n(n),o=i(68),s=i.n(o),r=i(164),c=i.n(r),l=(i(67),i(162)),d=i(38),u=i(71),_=i(64),p=i(168),f=i.n(p);e.default={data:function(){return{baseImgPath:d.b,avatar:f.a,user_info:"",dialogFormVisible:!1,password:""}},created:function(){this.adminInfo.id,this.user_info=JSON.parse(i.i(_.a)("user_info"))},computed:c()({},i.i(u.b)(["adminInfo"])),methods:c()({},i.i(u.c)(["getAdminData"]),{handleCommand:function(t){var e=this;return s()(a.a.mark(function n(){return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:"home"==t?e.$router.push("/manage"):"singout"==t?(i.i(_.c)("token"),e.$message({type:"success",message:"退出成功"}),e.$router.push("/")):"show_edit_password"==t&&(e.dialogFormVisible=!0,e.password="");case 1:case"end":return n.stop()}},n,e)}))()},edit_password:function(){i.i(l.d)({id:this.user_info.id,password:this.password}).then(function(t){t.code==this.$store.state.constant.status_success?(this.$message({message:t.msg,type:"success"}),this.dialogFormVisible=!1):this.$message({message:t.msg,type:"warning"})}.bind(this))}})}},170:function(t,e,i){e=t.exports=i(121)(!1),e.push([t.i,".allcover[data-v-f589683e]{position:absolute;top:0;right:0}.ctt[data-v-f589683e]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tb[data-v-f589683e]{position:absolute;top:50%;transform:translateY(-50%)}.lr[data-v-f589683e]{position:absolute;left:50%;transform:translateX(-50%)}.header_container[data-v-f589683e]{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px;position:fixed;z-index:2;width:100%}.avator[data-v-f589683e]{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item[data-v-f589683e]{text-align:center}",""])},171:function(t,e,i){var n=i(170);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(122)("265cca6e",n,!0)},172:function(t,e,i){i(171);var n=i(65)(i(169),i(173),"data-v-f589683e",null);t.exports=n.exports},173:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"header_container"},[i("el-breadcrumb",{attrs:{separator:"/"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[t._v("首页")]),t._v(" "),t._l(t.$route.meta,function(e,n){return i("el-breadcrumb-item",{key:e},[t._v(t._s(e))])})],2)],1),t._v(" "),i("div",{staticStyle:{height:"60px"}})])},staticRenderFns:[]}},187:function(t,e,i){"use strict";i.d(e,"e",function(){return o}),i.d(e,"a",function(){return s}),i.d(e,"d",function(){return r}),i.d(e,"f",function(){return c}),i.d(e,"h",function(){return l}),i.d(e,"i",function(){return d}),i.d(e,"b",function(){return u}),i.d(e,"j",function(){return _}),i.d(e,"g",function(){return p}),i.d(e,"c",function(){return f}),i.d(e,"k",function(){return m});var n=i(66),a=(i(35),i(64)),o=function(t){return i.i(n.a)("/guanmei/sales_order/index",t,"POST").then(a.b)},s=function(t){return i.i(n.a)("/guanmei/sales_order/get_all",t,"POST").then(a.b)},r=function(t){return i.i(n.a)("/guanmei/sales_order/edit",t,"POST").then(a.b)},c=function(t){return i.i(n.a)("/guanmei/sales_order/verify",t,"POST").then(a.b)},l=function(t){return i.i(n.a)("/guanmei/sales_order/del",t,"POST").then(a.b)},d=function(t){return i.i(n.a)("/guanmei/sales_order/del_force",t,"POST").then(a.b)},u=function(t){return i.i(n.a)("/guanmei/sales_order/info",t,"POST").then(a.b)},_=function(t){return i.i(n.a)("/guanmei/sales_order/sort",t,"POST").then(a.b)},p=function(t){return i.i(n.a)("/guanmei/sales_order/setBackRemark",t,"POST").then(a.b)},f=function(t){return i.i(n.a)("/guanmei/sales_order/init_select_options",t,"POST").then(a.b)},m=function(t){return i.i(n.a)("/guanmei/sales_order_sub/index_by_order",t,"POST").then(a.b)}},209:function(t,e,i){t.exports={default:i(211),__esModule:!0}},210:function(t,e,i){"use strict";e.__esModule=!0;var n=i(209),a=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=function(t,e,i){return e in t?(0,a.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},211:function(t,e,i){i(212);var n=i(2).Object;t.exports=function(t,e,i){return n.defineProperty(t,e,i)}},212:function(t,e,i){var n=i(9);n(n.S+n.F*!i(4),"Object",{defineProperty:i(5).f})},304:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(23),a=i.n(n),o=i(210),s=i.n(o),r=i(172),c=i.n(r),l=i(187),d=i(64);e.default={data:function(){var t;return{id:0,clone:!1,loading:!1,upload_url:this.$store.state.constant.upload_url,dialogImageUrl:"",dialogVisible:!1,order_date:"",delivery_date:"",vip:{id:"0"},is_vip:!1,level:"3A",custom_name:"",order_no:"",sales_man:"",editor1:null,package_containment:"",package_num:"",package_short_info:"",package_info:"",sub_orders:[{product_cat:{},product:{},colors:[],material:[],raw_material:"",decoration:"",process:[],sample_imgs:[],sample_info:"",custom_model:"",options_product_cat_product:[]}],file_list:[],limit:3,type:0,types:[{id:0,name:"主料"},{id:1,name:"装饰、辅料"}],options:{options_product_cat:[],options_process:[]},config:(t={initialFrameWidth:null,initialFrameHeight:150},s()(t,"initialFrameWidth",300),s()(t,"toolbars",[["fullscreen","source","|","bold","italic","underline","|","fontsize","insertimage","|","justifyleft","justifycenter","justifyright","justifyjustify","|","preview"]]),t)}},components:{headTop:c.a},created:function(){this.user_info=JSON.parse(i.i(d.a)("user_info"))},mounted:function(){},beforeRouteEnter:function(t,e,i){i(function(e){e.id=t.query.id?t.query.id:0,e.editor1=null,e.init_select_options().then(function(){e.id&&e.id>0?(e.clone=!!t.query.clone,e.get_info()):e.init()})})},methods:{init:function(){this.loading=!1,this.order_date="",this.delivery_date="",this.custom_name="",this.vip={id:"0"},this.is_vip=!1,this.order_no="",this.sales_man=this.user_info.show_name,this.package_containment="",this.package_num="",this.package_short_info="",this.package_info="",this.editor1=null,this.sub_orders=[{product_cat:{},product:{},colors:[],material:[],raw_material:"",decoration:"",process:[],sample_imgs:[],sample_info:"",custom_model:"",options_product_cat_product:[]}];var t=i.i(d.a)("sales_order_edit_data_20181016");t=JSON.parse(t),t&&(this.order_date=t.order_date,this.delivery_date=t.delivery_date,this.custom_name=t.custom_name,this.order_no=t.order_no,this.sales_man=t.sales_man?t.sales_man:this.sales_man,this.sub_orders=t.sub_orders),this.order_date=(new Date).toLocaleDateString(),this.init_editor()},init_editor:function(){var t=this;this.editor1?t.editor1.setContent(t.package_info):(UE.delEditor("editor1"),this.editor1=UE.getEditor("editor1",this.config),this.editor1.addListener("ready",function(){t.editor1.setContent(t.package_info)}))},get_info:function(){i.i(l.b)({id:this.id}).then(function(t){t.code==this.$store.state.constant.status_success?(this.order_date=t.data.order_date,this.delivery_date=t.data.delivery_date,this.custom_name=t.data.custom_name,this.vip=t.data.vip,this.is_vip=t.data.is_vip,this.level=t.data.level,this.order_no=t.data.custom_order_no,this.sales_man=t.data.sales_man,this.package_containment=t.data.package_containment,this.package_num=t.data.package_num,this.package_short_info=t.data.package_short_info,this.package_info=t.data.package_info,this.sub_orders=t.data.sales_order_sub,this.gen_options_product_cat_product(),this.gen_material_color()):this.$message({message:t.msg,type:"warning"}),this.init_editor()}.bind(this))},init_select_options:function(){return i.i(l.c)().then(function(t){return new a.a(function(e,i){t.code==this.$store.state.constant.status_success?(this.options=t.data,this.options.options_color.unshift({id:"-1",name:"其他颜色(自定义)"})):this.$message({message:t.msg,type:"warning"}),e()}.bind(this))}.bind(this))},submit:function(){var t=this,e={id:this.id,order_date:this.order_date,delivery_date:this.delivery_date,custom_name:this.custom_name,vip:this.vip,is_vip:this.is_vip,level:this.level,order_no:this.order_no,sales_man:this.sales_man,package_containment:this.package_containment,package_num:this.package_num,package_short_info:this.package_short_info,package_info:this.editor1.getContent(),sub_orders:this.sub_orders};this.clone&&(e.id=null);var n="";if(e.order_no||(n="请填写客户单号"),e.order_date||(n="请填写制单日期"),e.delivery_date||(n="请填写交货日期"),e.custom_name||(n="请填写客户姓名"),e.sales_man||(n="请填写业务员姓名"),(!e.sub_orders||e.sub_orders.length<1)&&(n="请添加订单子项"),e.sub_orders.forEach(function(t,e){t.product_cat_id||(n="请选择帽型类别"),t.product_name=t.product.name,t.colors&&t.colors.length?t.colors.forEach(function(t){t.id&&t.name&&t.color_details&&t.color_details.length||(n="请检查颜色各项及详细是否设置完整"),t.color_details.forEach(function(t){t.sum||(n="请检查颜色详细信息里的数量是否设置完整")})}):n="请添加颜色",t.raw_material||(n="请输入材料"),t.process&&t.process.length||(n="请输入流程");var i=[];t.sample_imgs&&t.sample_imgs.length>0&&t.sample_imgs.forEach(function(t){i.push(t.url)}),t.sample_imgs_final=i}.bind(this)),n)return void this.$message({type:"warning",message:n});this.loading=!0,this.$confirm("确认无误, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){this.loading=!0,i.i(l.d)(e).then(function(t){if(t.code==this.$store.state.constant.status_success){var n={order_date:e.order_date,delivery_date:e.delivery_date,custom_name:e.custom_name,order_no:e.order_no,sales_man:e.sales_man,sub_orders:e.sub_orders};i.i(d.d)("sales_order_edit_data_20181016",n),this.$message({message:t.msg,type:"success"}),this.$router.push({path:"sales_order",query:{}})}else this.$message({message:t.msg,type:"warning"});this.loading=!1}.bind(this))}.bind(this)).catch(function(){t.loading=!1}).finally(function(){}.bind(this))},handleRemove:function(t,e,i){this.sub_orders[i].sample_imgs=e},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleAvatarSuccess:function(t,e,i,n){if(i){var a=!0,o=[];i.forEach(function(t){"success"==t.status?t.response&&t.response.data&&t.response.data[0]?o.push({name:"",url:t.response.data[0]}):t.url&&o.push({name:"",url:t.url}):a=!1}.bind(this)),a&&(n.sample_imgs=o)}},beforeAvatarUpload:function(t){return i.i(d.e)(t,this)},handleExceed:function(){this.$message({message:"最多上传3张图片哦",type:"warning"})},add_color_detail:function(t){var e={size:"",model:"",go:"",sum:""};t.color_details?t.color_details.push(e):this.$set(t,"color_details",[e]),console.log(this.sub_orders)},del_color_detail:function(t,e){if(t.color_details.length<=1)return void this.$message({message:"最后一个不能删除",type:"warning"});t.color_details.splice(e,1)},add_color:function(t){var e={_id:new Date,id:"",name:"",sum:"",color:{},go_name:"去向",color_details:[{size:"",model:"",go:"",sum:""}]};this.sub_orders[t].colors.push(e),this.sub_orders[t].material.push({_id:e._id,belong_color:{id:e.id,name:e.name},data:[]})},del_color:function(t,e){this.sub_orders[t].material.forEach(function(i,n){i._id==this.sub_orders[t].colors[e]._id&&this.sub_orders[t].material.splice(n,1)}.bind(this)),this.sub_orders[t].colors.splice(e,1)},change_product_cat:function(t){t.product_cat_id=t.product_cat.id,t.product_cat_name=t.product_cat.name,t.options_product_cat_product=[],t.product={},this.change_product(t,1),this.options.options_product.forEach(function(e){e.cid==t.product_cat.id&&(t.options_product_cat_product=e.options,t.product=e.options&&e.options.length?e.options[0]:{},this.change_product(t))}.bind(this))},gen_options_product_cat_product:function(){this.sub_orders.forEach(function(t){this.options.options_product.forEach(function(e){e.cid==t.product_cat.id&&(t.options_product_cat_product=e.options)}.bind(this))}.bind(this))},change_material:function(t){t.sub_options=[],t.sub={},this.options.options_material_colors.forEach(function(e){e.cid==t.material.id&&(t.sub_options=i.i(d.f)(e.options),t.sub=t.sub_options&&t.sub_options.length?t.sub_options[0]:{})}.bind(this))},gen_material_color:function(){this.sub_orders.forEach(function(t){t.material.forEach(function(t){t.data&&t.data.forEach(function(t){this.options.options_material_colors.forEach(function(e){e.cid==t.material.id&&(t.sub_options=i.i(d.f)(e.options))}.bind(this))}.bind(this))}.bind(this))}.bind(this))},change_product:function(t,e){e?(t.product_id=0,t.product_name=""):(t.product_id=t.product.id,t.product_name=t.product.name)},change_color:function(t,e){t.id=t.color.id,t.name=t.color.name,e.material.length&&e.material.forEach(function(e){e._id==t._id&&(e.belong_color={id:t.id,name:t.name})})},change_process:function(t){var e=function(t,e){var i=parseInt(t.sort),n=parseInt(e.sort);return i>n?-1:i<n?1:0};t.process=t.process.sort(e)},add_material:function(t){var e={material:[],sub:[],num:""};t.data.push(e)},del_material:function(t,e){t.data.splice(e,1)}}}},346:function(t,e,i){e=t.exports=i(121)(!1),e.push([t.i,".allcover[data-v-2b6e1154]{position:absolute;top:0;right:0}.ctt[data-v-2b6e1154]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tb[data-v-2b6e1154]{position:absolute;top:50%;transform:translateY(-50%)}.lr[data-v-2b6e1154]{position:absolute;left:50%;transform:translateX(-50%)}.avatar-uploader[data-v-2b6e1154]{display:inline-block;vertical-align:middle}.hide_plus .el-upload[data-v-2b6e1154]{display:none}.search_item[data-v-2b6e1154]{margin-top:10px}.pre_info[data-v-2b6e1154]{display:inline-block;width:140px}.block[data-v-2b6e1154]{margin:10px 0;padding:10px;padding-top:0;border:1px dashed #aaa;width:1100px;position:relative}.more_btn[data-v-2b6e1154]{font-size:12px;border-radius:20px;padding:5px;width:120px;text-align:center}.colorOptions[data-v-2b6e1154]{margin:10px 0;padding:10px;padding-top:0;border:1px dashed #aaa;width:820px;position:relative}.del_block[data-v-2b6e1154]{position:absolute;top:10px;right:10px;color:red;cursor:pointer}.del_block[data-v-2b6e1154]:hover{color:#c86464}.add_block[data-v-2b6e1154]{border:1px dashed #333;font-size:12px;width:800px;text-align:center;padding:10px;cursor:pointer;background:#fafaff}.add_block[data-v-2b6e1154]:hover{border-color:#409eff;color:#409eff}.editor-container[data-v-2b6e1154]{display:inline-block;vertical-align:top}",""])},461:function(t,e,i){var n=i(346);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);i(122)("06184c27",n,!0)},517:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fillcontain"},[i("head-top"),t._v(" "),(new Date).getTime()<1557456869e3?i("el-alert",{attrs:{title:"温馨提示:制单日期已无需在本页面填写了,当提交业务单的时候,系统会自动取提交时刻的日期作为制单日期,请悉知!",type:"warning"}}):t._e(),t._v(" "),i("div",{staticClass:"table_container",staticStyle:{padding:"20px"}},[i("div",{staticClass:"search_item"},[t._m(0),t._v(" "),i("el-input",{staticStyle:{width:"350px"},attrs:{clearable:"",placeholder:"请输入单号"},model:{value:t.order_no,callback:function(e){t.order_no=e},expression:"order_no"}})],1),t._v(" "),i("div",{staticClass:"search_item",staticStyle:{display:"none"}},[t._m(1),t._v(" "),i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.order_date,callback:function(e){t.order_date=e},expression:"order_date"}})],1),t._v(" "),i("div",{staticClass:"search_item"},[t._m(2),t._v(" "),i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.delivery_date,callback:function(e){t.delivery_date=e},expression:"delivery_date"}})],1),t._v(" "),i("div",{staticClass:"search_item"},[t._m(3),t._v(" "),i("el-select",{attrs:{placeholder:"请选择"},model:{value:t.level,callback:function(e){t.level=e},expression:"level"}},t._l(["3A","2A","A","B"],function(t){return i("el-option",{key:t,attrs:{label:t,value:t}})}))],1),t._v(" "),t.is_vip?t._e():i("div",{staticClass:"search_item"},[t._m(4),t._v(" "),i("el-input",{staticStyle:{width:"350px"},attrs:{clearable:"",placeholder:"请输入客户姓名"},model:{value:t.custom_name,callback:function(e){t.custom_name=e},expression:"custom_name"}})],1),t._v(" "),i("div",{staticClass:"search_item"},[t._m(5),t._v(" "),i("el-input",{staticStyle:{width:"350px"},attrs:{clearable:"",placeholder:"请输入业务员姓名"},model:{value:t.sales_man,callback:function(e){t.sales_man=e},expression:"sales_man"}})],1),t._v(" "),t._l(t.sub_orders,function(e,n){return i("div",{key:n},[i("div",{staticClass:"search_item"},[t._m(6,!0),t._v(" "),i("el-select",{attrs:{placeholder:"请选择","value-key":"id"},on:{change:function(i){t.change_product_cat(e)}},model:{value:e.product_cat,callback:function(i){t.$set(e,"product_cat",i)},expression:"sub_order.product_cat"}},t._l(t.options.options_product_cat,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),i("el-input",{staticStyle:{width:"135px"},attrs:{clearable:"",placeholder:"型号"},model:{value:e.product.name,callback:function(i){t.$set(e.product,"name",i)},expression:"sub_order.product.name"}})],1),t._v(" "),i("div",{staticClass:"search_item"},[t._m(7,!0),t._v(" "),i("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[t._l(e.colors,function(a,o){return i("div",{key:o,staticStyle:{padding:"10px"}},[i("div",[i("div",{staticStyle:{display:"inline-block",border:"1px dashed #999",padding:"10px",position:"relative"}},[i("div",{staticStyle:{position:"absolute",right:"0",top:"0",padding:"3px",background:"rgb(65, 144, 243)","font-size":"10px",color:"#fff"}},[t._v("颜色"+t._s(o+1))]),t._v(" "),i("i",{staticStyle:{color:"red"}},[t._v("*")]),i("el-select",{staticStyle:{width:"160px"},attrs:{placeholder:"请选择","value-key":"id"},on:{change:function(i){t.change_color(a,e)}},model:{value:a.color,callback:function(e){t.$set(a,"color",e)},expression:"color.color"}},t._l(t.options.options_color,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),-1==a.id?i("el-input",{staticStyle:{width:"220px"},attrs:{clearable:"",placeholder:"颜色"},model:{value:a.name,callback:function(e){t.$set(a,"name",e)},expression:"color.name"}}):t._e(),t._v(" "),i("el-input",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"代号"},model:{value:a.custom_model,callback:function(e){t.$set(a,"custom_model",e)},expression:"color.custom_model"}}),t._v(" "),i("div",{staticStyle:{"vertical-align":"top","margin-top":"10px"}},[t._m(8,!0),t._v(" "),i("div",{staticStyle:{"text-align":"center"}},[i("div",{staticStyle:{display:"inline-block",width:"140px","text-align":"left","font-size":"12px",color:"#333"}},[t._v("尺寸:")]),t._v(" "),i("div",{staticStyle:{display:"none",width:"140px","text-align":"left","font-size":"12px",color:"#333"}},[t._v("型号:")]),t._v(" "),i("div",{staticStyle:{display:"inline-block",width:"140px","text-align":"left","font-size":"12px",color:"#333"}},[i("el-input",{staticStyle:{width:"100px",border:"none"},attrs:{type:"text",clearable:"",placeholder:"去向"},model:{value:a.go_name,callback:function(e){t.$set(a,"go_name",e)},expression:"color.go_name"}}),t._v(":")],1),t._v(" "),i("div",{staticStyle:{display:"inline-block",width:"140px","text-align":"left","font-size":"12px",color:"#333"}},[t._v("数量:")]),t._v(" "),t._l(a.color_details,function(e,n){return i("div",{key:n,staticStyle:{"margin-top":"5px"}},[i("el-input",{staticStyle:{width:"140px"},attrs:{type:"text",clearable:"",placeholder:"尺寸"},model:{value:e.size,callback:function(i){t.$set(e,"size",i)},expression:"item.size"}}),t._v(" "),i("el-input",{staticStyle:{width:"140px",display:"none"},attrs:{type:"text",clearable:"",placeholder:"型号"},model:{value:e.model,callback:function(i){t.$set(e,"model",i)},expression:"item.model"}}),t._v(" "),i("el-input",{staticStyle:{width:"140px"},attrs:{type:"text",clearable:"",placeholder:a.go_name},model:{value:e.go,callback:function(i){t.$set(e,"go",i)},expression:"item.go"}}),t._v(" "),i("el-input",{staticStyle:{width:"135px"},attrs:{type:"number",clearable:"",placeholder:"数量"},model:{value:e.sum,callback:function(i){t.$set(e,"sum",i)},expression:"item.sum"}}),t._v(" "),i("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:function(e){t.del_color_detail(a,n)}}},[i("i",{staticClass:"iconfont",staticStyle:{"font-size":"10px","margin-right":"0"}},[t._v("")])])],1)}),t._v(" "),i("el-button",{staticStyle:{margin:"0 auto","margin-top":"10px"},attrs:{type:"danger",round:"",size:"mini"},on:{click:function(e){t.add_color_detail(a)}}},[i("i",{staticClass:"iconfont",staticStyle:{"font-size":"10px","margin-right":"0"}},[t._v("")])])],2)])],1),t._v(" "),i("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:function(e){t.del_color(n,o)}}},[t._v("删除")])],1)])}),t._v(" "),i("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:function(e){t.add_color(n)}}},[i("i",{staticClass:"iconfont",staticStyle:{"font-size":"10px"}},[t._v("")]),t._v("添加更多颜色")])],2)]),t._v(" "),i("div",{staticClass:"search_item"},[t._m(9,!0),t._v(" "),i("el-input",{staticStyle:{width:"350px","vertical-align":"middle"},attrs:{type:"textarea",clearable:"",placeholder:"请输入材料"},model:{value:e.raw_material,callback:function(i){t.$set(e,"raw_material",i)},expression:"sub_order.raw_material"}})],1),t._v(" "),i("div",{staticClass:"search_item"},[t._m(10,!0),t._v(" "),i("el-select",{attrs:{multiple:"",placeholder:"请选择","value-key":"id"},on:{change:function(i){t.change_process(e)}},model:{value:e.process,callback:function(i){t.$set(e,"process",i)},expression:"sub_order.process"}},t._l(t.options.options_process,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t}})}))],1),t._v(" "),i("div",{staticClass:"search_item"},[i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("装饰说明:")]),t._v(" "),i("el-input",{staticStyle:{width:"350px","vertical-align":"middle"},attrs:{type:"textarea",clearable:"",placeholder:"请输入装饰说明"},model:{value:e.decoration,callback:function(i){t.$set(e,"decoration",i)},expression:"sub_order.decoration"}})],1),t._v(" "),i("div",{staticClass:"search_item"},[i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("样品图片:")]),t._v(" "),i("el-upload",{staticClass:"avatar-uploader",class:!e.sample_imgs||e.sample_imgs.length<t.limit?"show_plus":"hide_plus",attrs:{action:t.upload_url,multiple:"","list-type":"picture-card","file-list":e.sample_imgs,"on-success":function(i,n,a){return t.handleAvatarSuccess(i,n,a,e)},"before-upload":t.beforeAvatarUpload,"on-preview":t.handlePictureCardPreview,"on-exceed":t.handleExceed,limit:t.limit,"on-remove":function(e,i){return t.handleRemove(e,i,n)}}},[i("i",{staticClass:"el-icon-plus"})]),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),i("div",{staticClass:"search_item"},[i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("备注说明:")]),t._v(" "),i("el-input",{staticStyle:{width:"350px","vertical-align":"middle"},attrs:{type:"textarea",clearable:"",placeholder:"请输入备注说明"},model:{value:e.sample_info,callback:function(i){t.$set(e,"sample_info",i)},expression:"sub_order.sample_info"}})],1),t._v(" "),i("div",{staticClass:"search_item"},[i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("客户款式/型号:")]),t._v(" "),i("el-input",{staticStyle:{width:"350px","vertical-align":"middle"},attrs:{clearable:"",placeholder:"请输入客户款式"},model:{value:e.custom_model,callback:function(i){t.$set(e,"custom_model",i)},expression:"sub_order.custom_model"}})],1)])}),t._v(" "),i("div",{staticClass:"search_item"},[i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("每箱数量:")]),t._v(" "),i("el-input",{staticStyle:{width:"350px","vertical-align":"middle"},attrs:{type:"number",clearable:"",placeholder:""},model:{value:t.package_containment,callback:function(e){t.package_containment=e},expression:"package_containment"}})],1),t._v(" "),i("div",{staticClass:"search_item"},[i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("箱数:")]),t._v(" "),i("el-input",{staticStyle:{width:"350px","vertical-align":"middle"},attrs:{type:"number",clearable:"",placeholder:""},model:{value:t.package_num,callback:function(e){t.package_num=e},expression:"package_num"}})],1),t._v(" "),i("div",{staticClass:"search_item"},[i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("包装配色:")]),t._v(" "),i("el-input",{staticStyle:{width:"350px","vertical-align":"middle"},attrs:{type:"textarea",clearable:"",placeholder:""},model:{value:t.package_short_info,callback:function(e){t.package_short_info=e},expression:"package_short_info"}})],1),t._v(" "),t._m(11),t._v(" "),i("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"success",loading:t.loading},on:{click:t.submit}},[t._v("保存")])],2)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("客户单号:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("制单日期:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("交货日期:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("品质等级:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("客户姓名:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("业务员:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("帽型:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("颜色:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("p",{staticStyle:{"font-size":"12px",color:"#333"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("详细信息:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("材料:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[i("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("流程:")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search_item"},[i("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("箱麦:")]),t._v(" "),i("div",{staticClass:"editor-container"},[i("script",{attrs:{id:"editor1",type:"text/plain"}})])])}]}}});