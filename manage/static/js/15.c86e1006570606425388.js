webpackJsonp([15],{134:function(t,e,n){n(468);var a=n(65)(n(301),n(523),"data-v-4ff7552c",null);t.exports=a.exports},162:function(t,e,n){"use strict";n.d(e,"G",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"B",function(){return c}),n.d(e,"d",function(){return l}),n.d(e,"C",function(){return u}),n.d(e,"D",function(){return d}),n.d(e,"A",function(){return _}),n.d(e,"F",function(){return p}),n.d(e,"v",function(){return f}),n.d(e,"z",function(){return m}),n.d(e,"o",function(){return h}),n.d(e,"w",function(){return v}),n.d(e,"x",function(){return b}),n.d(e,"m",function(){return g}),n.d(e,"y",function(){return y}),n.d(e,"n",function(){return S}),n.d(e,"p",function(){return x}),n.d(e,"r",function(){return w}),n.d(e,"s",function(){return k}),n.d(e,"t",function(){return P}),n.d(e,"q",function(){return O}),n.d(e,"u",function(){return C}),n.d(e,"H",function(){return T}),n.d(e,"l",function(){return A}),n.d(e,"h",function(){return z}),n.d(e,"e",function(){return E}),n.d(e,"g",function(){return $}),n.d(e,"i",function(){return F}),n.d(e,"j",function(){return q}),n.d(e,"f",function(){return j}),n.d(e,"k",function(){return I}),n.d(e,"a",function(){return B}),n.d(e,"E",function(){return H});var a=n(66),i=(n(35),n(64)),r=function(t){return n.i(a.a)("/guanmei/config/index",t,"POST").then(i.b)},o=function(t){return n.i(a.a)("/guanmei/config/edit",t,"POST").then(i.b)},s=function(t){return n.i(a.a)("/guanmei/config/value",t,"POST").then(i.b)},c=function(t){return n.i(a.a)("/guanmei/admin_user/index",t,"POST").then(i.b)},l=function(t){return n.i(a.a)("/guanmei/admin_user/edit",t,"POST").then(i.b)},u=function(t){return n.i(a.a)("/guanmei/admin_user/verify",t,"POST").then(i.b)},d=function(t){return n.i(a.a)("/guanmei/admin_user/del",t,"POST").then(i.b)},_=function(t){return n.i(a.a)("/guanmei/admin_user/info",t,"POST").then(i.b)},p=function(t){return n.i(a.a)("/guanmei/admin_user/setIsVip",t,"POST").then(i.b)},f=function(t){return n.i(a.a)("/guanmei/admin_group/index",t,"POST").then(i.b)},m=function(t){return n.i(a.a)("/guanmei/admin_group/all_list",t,"POST").then(i.b)},h=function(t){return n.i(a.a)("/guanmei/admin_group/edit",t,"POST").then(i.b)},v=function(t){return n.i(a.a)("/guanmei/admin_group/verify",t,"POST").then(i.b)},b=function(t){return n.i(a.a)("/guanmei/admin_group/del",t,"POST").then(i.b)},g=function(t){return n.i(a.a)("/guanmei/admin_group/info",t,"POST").then(i.b)},y=function(t){return n.i(a.a)("/guanmei/admin_group/sort",t,"POST").then(i.b)},S=function(t){return n.i(a.a)("/guanmei/admin_purview/tree",t,"POST").then(i.b)},x=function(t){return n.i(a.a)("/guanmei/admin_purview/all_list",t,"POST").then(i.b)},w=function(t){return n.i(a.a)("/guanmei/admin_purview/edit",t,"POST").then(i.b)},k=function(t){return n.i(a.a)("/guanmei/admin_purview/verify",t,"POST").then(i.b)},P=function(t){return n.i(a.a)("/guanmei/admin_purview/del",t,"POST").then(i.b)},O=function(t){return n.i(a.a)("/guanmei/admin_purview/info",t,"POST").then(i.b)},C=function(t){return n.i(a.a)("/guanmei/admin_purview/sort",t,"POST").then(i.b)},T=function(t){return n.i(a.a)("/guanmei/admin_purview/get_menu",t,"POST").then(i.b)},A=function(t){return n.i(a.a)("/guanmei/admin_log/index",t,"POST").then(i.b)},z=function(t){return n.i(a.a)("/guanmei/admin_orgnize/tree",t,"POST").then(i.b)},E=function(t){return n.i(a.a)("/guanmei/admin_orgnize/all_list",t,"POST").then(i.b)},$=function(t){return n.i(a.a)("/guanmei/admin_orgnize/edit",t,"POST").then(i.b)},F=function(t){return n.i(a.a)("/guanmei/admin_orgnize/verify",t,"POST").then(i.b)},q=function(t){return n.i(a.a)("/guanmei/admin_orgnize/del",t,"POST").then(i.b)},j=function(t){return n.i(a.a)("/guanmei/admin_orgnize/info",t,"POST").then(i.b)},I=function(t){return n.i(a.a)("/guanmei/admin_orgnize/sort",t,"POST").then(i.b)},B=function(t){return n.i(a.a)("/guanmei/statistics_biz/get_month_data_by_year",t,"POST").then(i.b)},H=function(t){return n.i(a.a)("/guanmei/admin/del_app_login_token",t,"POST")}},163:function(t,e,n){t.exports={default:n(165),__esModule:!0}},164:function(t,e,n){"use strict";e.__esModule=!0;var a=n(163),i=function(t){return t&&t.__esModule?t:{default:t}}(a);e.default=i.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t}},165:function(t,e,n){n(167),t.exports=n(2).Object.assign},166:function(t,e,n){"use strict";var a=n(15),i=n(37),r=n(22),o=n(36),s=n(70),c=Object.assign;t.exports=!c||n(11)(function(){var t={},e={},n=Symbol(),a="abcdefghijklmnopqrst";return t[n]=7,a.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=a})?function(t,e){for(var n=o(t),c=arguments.length,l=1,u=i.f,d=r.f;c>l;)for(var _,p=s(arguments[l++]),f=u?a(p).concat(u(p)):a(p),m=f.length,h=0;m>h;)d.call(p,_=f[h++])&&(n[_]=p[_]);return n}:c},167:function(t,e,n){var a=n(9);a(a.S+a.F,"Object",{assign:n(166)})},168:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEvElEQVRYR+2WbVBUVRjH/+feZZddWFgWWDbCoFBeR94MccZ0GCmnGsKwwB0JB3UaXhqSMm2GRmWUmkwLiimxwpBmbIMmAXXKMcvJQHwhBXnZhnDQVQQEXGRZdmHvnuZuwqDswvJFv/B8u3Of8z+/+T/Pc84heMxBHvP+mAd4FA4oWKnnQa+o52Oki2KFsmcT1Jdyot+ZKP2jAPg6anf1Kq9liYGmji50HStCYObuwjPJnjt4iBkBqEoZAIaVkSO3rthqVt0beTEWhpXIKz79y14zuwSEqaMLT6yzcOMQuntDd/5PGA23/9F8nhViE4D2RLgQZfMI/5NmyGTWpHKdztYGwym53maWdfFQF3fZA3By86p4rqwj/d7NFgjFHtBrroBIxeeb97y2bBoA7VgogkkYCZYRkNCWehuiUQB4qCEAbQBMEzm0PSSAhGomQWjFewqyYX8fAJXPitcz/VXb4scG+9D9y2FLZEHVklOridXVaSWg7SFBkDjdIf5X704BWOckQIFcxorCFzkbFiuFMku/RVLXZeRkIpwLYE1pZbWhCSS4vdrqXNl233EG24QbP5lothBpYMxmz+gXpObU/Pybqe6DjjYhC+CHiGCR7x/fPx0hkwqkk1A6DpZ6E4416FFy6d7Y1li3pMTKvpNzPdgmHQiuoVJ21LK+TcUevC/CAFDvyVN45mcqVtkUphS4Zsa1X/VY//MdfPmifOPSQz3lc4F4oAThlTSsNZXwteUjOz5WvPx0RWCaXUEeYJyCVo3iwi0jPmsYslStlQWQD7u1jkLYHUMnAZqHGsOVIiHxnk2M1owAwxRvnxyAKkJSvfJQb/Jsa6b1AFUt8CVqbff9H9FxkZKP69XPrHZIaIyC/jSC+hsmnNWOmvNX6kSkAJaH19LWcFcwXDAJ1TTaAFAGEHXPxBip3s3wTNz3/hP27X9IndYaMNBrRv7vd/Hty3Jf8tH129aJ2PFUODQ3NKQKHNUE+4I6xZDQluOzTcGbe7Z4x+Vn+Wy2ilCKrF3d2LddCTdXfjCmBz1ugHGAw6bafvy4Vr6QFGo7HXHPXg8kvxIvXV59wH+rVcQIlB4dQFqSDFKX/wH+vW7CuSsGpK/xsH7TqhFc7zOj5OIQilaIXcn+XutpOls8AEArc1xJ6ld6AL5iZ6ZYfzksBaDAVQZYTDFqtEDszE8n0NJhRM1v9/BBtgLQcaAnjChvGoaAoCOjtj+IzwlVc1sYhjk1ZbKm8cx0GZ1tPBrYHxUifnVi1c6iHlSqdSgtWYD4pS7ATQB+AG0wAZ1mvHSkB98lyTf6Fd+yngXhlVTemkomTz1bbswEkMAw+GKoMcxL4swo+MUcR1H3twFxkWKIhIwVgArMwGkTyi4Pg6OWtuylg4ttTYC9Usz2Hsh1l7IbtGeCPFwkbOC0sdKOA3UmlF4YxoCJ69wZK19C9l7jLyqHYzYAXmgTAXalr5FpC/MU/k8qhX58zceaxtB00YC9DUMmpYQ5fOCiPtPhXackOgLAp/sDyAEQ7ewENx83gUw/yumHjbRyzIJvAEy9OefE4SjAnETnkjwPMNWBtwCkAMgFwHd83lystJHL3ysFAPgzIQNA8f3nXPzU3PkSzDvwH1iQrTBfEt9eAAAAAElFTkSuQmCC"},169:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(69),i=n.n(a),r=n(68),o=n.n(r),s=n(164),c=n.n(s),l=(n(67),n(162)),u=n(38),d=n(71),_=n(64),p=n(168),f=n.n(p);e.default={data:function(){return{baseImgPath:u.b,avatar:f.a,user_info:"",dialogFormVisible:!1,password:""}},created:function(){this.adminInfo.id,this.user_info=JSON.parse(n.i(_.a)("user_info"))},computed:c()({},n.i(d.b)(["adminInfo"])),methods:c()({},n.i(d.c)(["getAdminData"]),{handleCommand:function(t){var e=this;return o()(i.a.mark(function a(){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:"home"==t?e.$router.push("/manage"):"singout"==t?(n.i(_.c)("token"),e.$message({type:"success",message:"退出成功"}),e.$router.push("/")):"show_edit_password"==t&&(e.dialogFormVisible=!0,e.password="");case 1:case"end":return a.stop()}},a,e)}))()},edit_password:function(){n.i(l.d)({id:this.user_info.id,password:this.password}).then(function(t){t.code==this.$store.state.constant.status_success?(this.$message({message:t.msg,type:"success"}),this.dialogFormVisible=!1):this.$message({message:t.msg,type:"warning"})}.bind(this))}})}},170:function(t,e,n){e=t.exports=n(121)(!1),e.push([t.i,".allcover[data-v-f589683e]{position:absolute;top:0;right:0}.ctt[data-v-f589683e]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tb[data-v-f589683e]{position:absolute;top:50%;transform:translateY(-50%)}.lr[data-v-f589683e]{position:absolute;left:50%;transform:translateX(-50%)}.header_container[data-v-f589683e]{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px;position:fixed;z-index:2;width:100%}.avator[data-v-f589683e]{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item[data-v-f589683e]{text-align:center}",""])},171:function(t,e,n){var a=n(170);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(122)("265cca6e",a,!0)},172:function(t,e,n){n(171);var a=n(65)(n(169),n(173),"data-v-f589683e",null);t.exports=a.exports},173:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"header_container"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[t._v("首页")]),t._v(" "),t._l(t.$route.meta,function(e,a){return n("el-breadcrumb-item",{key:e},[t._v(t._s(e))])})],2)],1),t._v(" "),n("div",{staticStyle:{height:"60px"}})])},staticRenderFns:[]}},177:function(t,e,n){"use strict";n.d(e,"d",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"h",function(){return d}),n.d(e,"e",function(){return _}),n.d(e,"j",function(){return p}),n.d(e,"i",function(){return f}),n.d(e,"q",function(){return m}),n.d(e,"m",function(){return h}),n.d(e,"o",function(){return v}),n.d(e,"l",function(){return b}),n.d(e,"p",function(){return g}),n.d(e,"n",function(){return y}),n.d(e,"k",function(){return S});var a=n(66),i=(n(35),n(64)),r=function(t){return n.i(a.a)("/guanmei/produce_order/index",t,"POST").then(i.b)},o=function(t){return n.i(a.a)("/guanmei/produce_order/get_all",t,"POST").then(i.b)},s=function(t){return n.i(a.a)("/guanmei/produce_order/edit",t,"POST").then(i.b)},c=function(t){return n.i(a.a)("/guanmei/produce_order/verify",t,"POST").then(i.b)},l=function(t){return n.i(a.a)("/guanmei/produce_order/del",t,"POST").then(i.b)},u=function(t){return n.i(a.a)("/guanmei/produce_order/info",t,"POST").then(i.b)},d=function(t){return n.i(a.a)("/guanmei/produce_order/sort",t,"POST").then(i.b)},_=function(t){return n.i(a.a)("/guanmei/produce_order/submit_storage",t,"POST").then(i.b)},p=function(t){return n.i(a.a)("/guanmei/produce_order/storage_produce_order_list",t,"POST").then(i.b)},f=function(t){return n.i(a.a)("/guanmei/produce_order/gen_barcode_html",t,"POST").then(i.b)},m=function(t){return n.i(a.a)("/guanmei/produce_order/process_produce_order",t,"POST").then(i.b)},h=function(t){return n.i(a.a)("/guanmei/produce_order/process_produce_order_set",t,"POST").then(i.b)},v=function(t){return n.i(a.a)("/guanmei/produce_order/get_my_order_handover_processes",t,"POST").then(i.b)},b=function(t){return n.i(a.a)("/guanmei/produce_order/handover",t,"POST").then(i.b)},g=function(t){return n.i(a.a)("/guanmei/produce_order/handover_directly",t,"POST").then(i.b)},y=function(t){return n.i(a.a)("/guanmei/produce_order/complete_order_num",t,"POST").then(i.b)},S=function(t){return n.i(a.a)("/guanmei/produce_order/detail",t,"POST").then(i.b)}},187:function(t,e,n){"use strict";n.d(e,"e",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"f",function(){return c}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"j",function(){return _}),n.d(e,"g",function(){return p}),n.d(e,"c",function(){return f}),n.d(e,"k",function(){return m});var a=n(66),i=(n(35),n(64)),r=function(t){return n.i(a.a)("/guanmei/sales_order/index",t,"POST").then(i.b)},o=function(t){return n.i(a.a)("/guanmei/sales_order/get_all",t,"POST").then(i.b)},s=function(t){return n.i(a.a)("/guanmei/sales_order/edit",t,"POST").then(i.b)},c=function(t){return n.i(a.a)("/guanmei/sales_order/verify",t,"POST").then(i.b)},l=function(t){return n.i(a.a)("/guanmei/sales_order/del",t,"POST").then(i.b)},u=function(t){return n.i(a.a)("/guanmei/sales_order/del_force",t,"POST").then(i.b)},d=function(t){return n.i(a.a)("/guanmei/sales_order/info",t,"POST").then(i.b)},_=function(t){return n.i(a.a)("/guanmei/sales_order/sort",t,"POST").then(i.b)},p=function(t){return n.i(a.a)("/guanmei/sales_order/setBackRemark",t,"POST").then(i.b)},f=function(t){return n.i(a.a)("/guanmei/sales_order/init_select_options",t,"POST").then(i.b)},m=function(t){return n.i(a.a)("/guanmei/sales_order_sub/index_by_order",t,"POST").then(i.b)}},301:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(23),i=n.n(a),r=n(172),o=n.n(r),s=n(177),c=n(187),l=n(64);e.default={data:function(){return{id:0,tableData:[],table_loading:!1,limit:20,count:0,currentPage:1,loading:!1,active:0,way:-1,multipleSelection:{},upload_url:this.$store.state.constant.upload_url,dialogImageUrl:"",dialogVisible:!1,order_date:"",delivery_date:"",produce_man:"",set_name:"",sub_orders:[],file_list:[],img_upload_limit:3,options:{},material_sub_froms:[{id:1,name:"厂内"},{id:2,name:"客户自带"}],success_orders:[]}},components:{headTop:o.a},created:function(){this.user_info=JSON.parse(n.i(l.a)("user_info"))},mounted:function(){},beforeRouteEnter:function(t,e,n){n(function(e){e.id=t.query.id?t.query.id:0,e.is_new=t.query.is_new?t.query.is_new:0,e.way=t.query.way?parseInt(t.query.way):-1,e.active=t.query.active?parseInt(t.query.active):0,e.init_select_options().then(function(){e.id&&e.id>0?e.get_info():e.init()})})},beforeRouteUpdate:function(t,e,a){if(this.way=t.query.way?parseInt(t.query.way):-1,this.active=t.query.active?parseInt(t.query.active):0,0==this.active&&1==this.way&&this.get_sales_sub_order_list(),1==this.active&&1==this.way){var i=JSON.parse(n.i(l.a)("cache_sales_order_selection"));i||(this.$message({message:"请选择业务订单",type:"warning"}),this.$router.replace({path:"add_produce_order",query:{active:0,way:1}})),this.sub_orders=i,this.set_name=(new Date).toLocaleDateString()+"生产单"+(this.sub_orders&&this.sub_orders.length?"[业务单:"+this.sub_orders[0].sales_order.custom_order_no+"]":""),this.gen_options_product_cat_product(),this.gen_material_color()}a()},methods:{init:function(){if(this.loading=!1,this.active=this.active?this.active:0,this.way=this.way?this.way:-1,1==this.active&&1==this.way){var t=JSON.parse(n.i(l.a)("cache_sales_order_selection"));t||(this.$message({message:"请选择业务订单",type:"warning"}),this.$router.replace({path:"add_produce_order",query:{active:0,way:1}})),this.sub_orders=t,this.gen_options_product_cat_product(),this.gen_material_color()}0==this.active&&1==this.way&&this.get_sales_sub_order_list(),0==this.active&&-1==this.way&&this.is_new&&(this.multipleSelection={},n.i(l.d)("cache_sales_order_selection",""),this.order_date=(new Date).toLocaleDateString(),this.delivery_date="",this.produce_man="",this.set_name="",this.sub_orders=[],this.handleCurrentChange(1)),this.produce_man=this.user_info.show_name,this.set_name=(new Date).toLocaleDateString()+"生产单"+(this.sub_orders&&this.sub_orders.length?"[业务单:"+this.sub_orders[0].sales_order.custom_order_no+"]":"")},get_sales_sub_order_list:function(){this.table_loading=!0,n.i(c.k)({page:this.currentPage,page_size:this.limit,status:1}).then(function(t){t.code==this.$store.state.constant.status_success?(this.tableData=t.data.list,this.count=parseInt(t.data.count),setTimeout(function(){this.toggleSelection(this.multipleSelection["page"+this.currentPage])}.bind(this))):this.$message({message:t.msg,type:"warning"}),this.table_loading=!1}.bind(this))},go_make:function(){var t;for(var e in this.multipleSelection)t||(t={}),this.multipleSelection[e]&&this.multipleSelection[e].length&&this.multipleSelection[e].forEach(function(e,a){e.sub_orders.forEach(function(e,a){this.delivery_date||(this.delivery_date=e.delivery_date);var i=e.product_cat_id+"|"+e.product_id+"|"+e.color_id+"|"+e.color_code,r=a;e.process&&(r="",e.process.forEach(function(t){r+="|"+t.id})),i+=r,t[i]||(t[i]={});var o=e.color_id+"|"+e.color_code;t[i][o]||(t[i][o]={order_codes:[],order_sub_ids:[],order_sub:[],data:{},sales_order_sub_diff_data:[]}),-1==t[i][o].order_sub_ids.indexOf(e.id)&&(t[i][o].order_sub_ids.push(e.id),t[i][o].order_sub.push({sub_id:e.id,order_id:e.order_id})),-1==t[i][o].order_codes.indexOf(e.sales_order.custom_order_no)&&t[i][o].order_codes.push(e.sales_order.custom_order_no),t[i][o].data.product_id?(t[i][o].data.sum=parseInt(t[i][o].data.sum)+parseInt(e.sum),t[i][o].data.material=[],t[i][o].data.material_sub=[],t[i][o].data.decoration="",t[i][o].data.sample_imgs=[],t[i][o].data.sample_imgs_final=[],t[i][o].data.sample_info="",t[i][o].data.custom_model=""):t[i][o].data=n.i(l.f)(e),t[i][o].sales_order_sub_diff_data.push(e)}.bind(this))}.bind(this));if(!t)return void this.$message({message:"请选择订单进行下一步操作",type:"warning"});var a=[];for(e in t){var i={};for(var r in t[e])i.product_id?i.colors.push({color:{id:t[e][r].data.color_id,name:t[e][r].data.color_code},id:t[e][r].data.color_id,name:t[e][r].data.color_code,sum:t[e][r].data.sum,order_codes:t[e][r].order_codes,order_sub:t[e][r].order_sub}):(i=t[e][r].data,i.material_sub=[],i.colors=[{color:{id:i.color_id,name:i.color_code},id:i.color_id,name:i.color_code,sum:i.sum,order_codes:t[e][r].order_codes,order_sub:t[e][r].order_sub}],i.sales_order_sub_diff_data=n.i(l.f)(t[e][r].sales_order_sub_diff_data));a.push(i)}n.i(l.d)("cache_sales_order_selection",a),this.$router.push({path:"add_produce_order",query:{active:1,way:1}})},check_is_same_orders:function(){var t=!0,e="";for(var n in this.multipleSelection)if(this.multipleSelection[n]&&this.multipleSelection[n].length&&this.multipleSelection[n].forEach(function(n){if(e){var a=n.product_cat_id+"|"+n.product_id+"|"+n.color_id+"|"+n.color_code;if(e!=a)return void(t=!1)}else e=n.product_cat_id+"|"+n.product_id+"|"+n.color_id+"|"+n.color_code}),!t)break;return t},handleCurrentChange:function(t){this.currentPage=t,this.get_sales_sub_order_list()},handleSelectionChange:function(t){setTimeout(function(){this.multipleSelection["page"+this.currentPage]=t}.bind(this))},toggleSelection:function(t){var e=this;t&&t.forEach(function(t){e.tableData.forEach(function(n){n.id==t.id&&e.$refs.multipleTable.toggleRowSelection(n,!0)})})},get_info:function(){n.i(s.b)({id:this.id}).then(function(t){t.code==this.$store.state.constant.status_success?(this.order_date=t.data.order_date,this.delivery_date=t.data.delivery_date,this.produce_man=t.data.produce_man,this.set_name=t.data.set_name,this.sub_orders=t.data.sales_order_sub,this.gen_options_product_cat_product(),this.gen_material_color()):this.$message({message:t.msg,type:"warning"})}.bind(this))},submit:function(){var t={id:this.id,order_date:this.order_date,delivery_date:this.delivery_date,produce_man:this.produce_man,set_name:this.set_name,sub_orders:this.sub_orders},e="";t.set_name||(e="请填写生产单自定义名称"),t.order_date||(e="请填写制单日期"),t.delivery_date||(e="请填写交货日期"),t.produce_man||(e="请填写生产统筹员姓名"),(!t.sub_orders||t.sub_orders.length<1)&&(e="请添加订单子项");var a=0;if(t.sub_orders.forEach(function(t,n){t.material&&t.material.length&&t.material.forEach(function(t){t.material&&t.sub&&t.num||(e="第"+(n+1)+"个子项,请检查材料是否设置完整")}),t.process&&t.process.length||(e="第"+(n+1)+"个子项,请选择流程"),t.product_cat_id||(e="第"+(n+1)+"个子项,请选择帽型类别"),t.product_id||(e="第"+(n+1)+"个子项,请选择帽型型号"),t.colors&&t.colors.length?t.colors.forEach(function(t){a++,t.id&&t.name&&t.sum||(e="第"+(n+1)+"个子项,请检查颜色是否设置完整")}):e="第"+(n+1)+"个子项,请添加颜色";var i=[];t.sample_imgs&&t.sample_imgs.length>0&&t.sample_imgs.forEach(function(t){i.push(t.url)}),t.sample_imgs_final=i}.bind(this)),e)return void this.$message({type:"warning",message:e});if(t.id)var i="确认无误, 是否继续?";else var i="确认无误, 将会生产"+a+"个子订单, 是否继续?";this.loading=!0,this.$confirm(i,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.i(s.c)(t).then(function(e){e.code==this.$store.state.constant.status_success?(this.$message({message:e.msg,type:"success"}),t.id?this.$router.replace({path:"produce_order"}):(this.success_orders=e.data,this.active=2)):this.$message({message:e.msg,type:"warning"}),this.loading=!1}.bind(this))}.bind(this)).catch(function(){}).finally(function(){}.bind(this))},init_select_options:function(){return n.i(c.c)().then(function(t){return new i.a(function(e,n){t.code==this.$store.state.constant.status_success?(this.options=t.data,this.options.options_color.push({id:"-1",name:"其他"})):this.$message({message:t.msg,type:"warning"}),e()}.bind(this))}.bind(this))},handleRemove:function(t,e,n){this.sub_orders[n].sample_imgs=e},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handleAvatarSuccess:function(t,e,n,a){if(n){var i=!0,r=[];n.forEach(function(t){"success"==t.status?t.response&&t.response.data&&t.response.data[0]?r.push({name:"",url:t.response.data[0]}):t.url&&r.push({name:"",url:t.url}):i=!1}.bind(this)),i&&(a.sample_imgs=r)}},beforeAvatarUpload:function(t){return n.i(l.e)(t,this)},handleExceed:function(){this.$message({message:"最多上传3张图片哦",type:"warning"})},add_block:function(){var t={product_cat:{},product:{},colors:[{color:{id:"",name:""},id:"",name:"",sum:""}],material:[],decoration:"",material_sub:[],process:[],sample_imgs:[],sample_info:""};this.sub_orders.push(t)},del_block:function(t){this.sub_orders.splice(t,1)},add_color:function(t){var e={id:"",name:"",sum:"",color:{}};this.sub_orders[t].colors.push(e)},del_color:function(t,e){this.sub_orders[t].colors.splice(e,1)},add_material:function(t){var e={material:"",sum:""};this.sub_orders[t].material.push(e)},del_material:function(t,e){this.sub_orders[t].material.splice(e,1)},add_material_sub:function(t){var e={material:"",from:"",sum:""};this.sub_orders[t].material_sub.push(e)},del_material_sub:function(t,e){this.sub_orders[t].material_sub.splice(e,1)},change_product_cat:function(t){t.product_cat_id=t.product_cat.id,t.product_cat_name=t.product_cat.name,t.options_product_cat_product=[],t.product={},this.options.options_product.forEach(function(e){e.cid==t.product_cat.id&&(t.options_product_cat_product=e.options,t.product=e.options&&e.options.length?e.options[0]:{},this.change_product(t))}.bind(this))},gen_options_product_cat_product:function(){this.sub_orders.forEach(function(t){this.options.options_product.forEach(function(e){e.cid==t.product_cat.id&&(t.options_product_cat_product=e.options)}.bind(this))}.bind(this))},change_material:function(t){t.sub_options=[],t.sub={},this.options.options_material_colors.forEach(function(e){e.cid==t.material.id&&(t.sub_options=n.i(l.f)(e.options),t.sub=t.sub_options&&t.sub_options.length?t.sub_options[0]:{})}.bind(this))},gen_material_color:function(){this.sub_orders.forEach(function(t){t.material.forEach(function(t){this.options.options_material_colors.forEach(function(e){e.cid==t.material.id&&(t.sub_options=n.i(l.f)(e.options))}.bind(this))}.bind(this))}.bind(this))},change_product:function(t){t.product_id=t.product.id,t.product_name=t.product.name},change_color:function(t){t.id=t.color.id,t.name=t.color.name},change_process:function(t){var e=function(t,e){var n=parseInt(t.sort),a=parseInt(e.sort);return n>a?-1:n<a?1:0};t.process=t.process.sort(e)}}}},353:function(t,e,n){e=t.exports=n(121)(!1),e.push([t.i,".allcover[data-v-4ff7552c]{position:absolute;top:0;right:0}.ctt[data-v-4ff7552c]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tb[data-v-4ff7552c]{position:absolute;top:50%;transform:translateY(-50%)}.lr[data-v-4ff7552c]{position:absolute;left:50%;transform:translateX(-50%)}.avatar-uploader[data-v-4ff7552c]{display:inline-block;vertical-align:middle}.hide_plus .el-upload[data-v-4ff7552c]{display:none}.search_item[data-v-4ff7552c]{margin-top:10px}.pre_info[data-v-4ff7552c]{display:inline-block;width:140px}.block[data-v-4ff7552c]{margin:10px 0;padding:10px;padding-top:0;border:1px dashed #aaa;width:800px;position:relative}.more_btn[data-v-4ff7552c]{font-size:12px;border-radius:20px;padding:5px;width:120px;text-align:center}.del_block[data-v-4ff7552c]{position:absolute;top:10px;right:10px;color:red;cursor:pointer}.del_block[data-v-4ff7552c]:hover{color:#c86464}.add_block[data-v-4ff7552c]{border:1px dashed #333;font-size:12px;width:800px;text-align:center;padding:10px;cursor:pointer;background:#fafaff}.add_block[data-v-4ff7552c]:hover{border-color:#409eff;color:#409eff}.demo-table-expand .el-form-item[data-v-4ff7552c]{margin-right:0;margin-bottom:0;width:45%}",""])},468:function(t,e,n){var a=n(353);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n(122)("c91b7246",a,!0)},523:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fillcontain"},[n("head-top"),t._v(" "),n("div",{staticClass:"table_container",staticStyle:{padding:"20px"}},[t.id?t._e():n("el-steps",{staticStyle:{"margin-bottom":"20px"},attrs:{active:t.active,"align-center":"","finish-status":"success"}},[n("el-step",{attrs:{title:"选择方式"}}),t._v(" "),n("el-step",{attrs:{title:"填写生产单信息"}}),t._v(" "),n("el-step",{attrs:{title:"完成"}})],1),t._v(" "),0==t.active&&-1==t.way?n("div",{staticStyle:{display:"block",margin:"100px auto","text-align":"center"}},[n("el-button",{staticStyle:{margin:"20px auto",display:"inline-block",width:"150px",height:"150px"},attrs:{type:"success"},on:{click:function(e){t.$router.push({path:"add_produce_order",query:{active:0,way:1}})}}},[t._v("选择业务单制单")]),t._v(" "),n("el-button",{staticStyle:{margin:"20px auto","margin-left":"50px",display:"inline-block",width:"150px",height:"150px"},attrs:{type:"success"},on:{click:function(e){t.$router.push({path:"add_produce_order",query:{active:1,way:2}})}}},[t._v("直接制单")])],1):t._e(),t._v(" "),0==t.active&&1==t.way?n("div",{staticClass:"table_container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table_loading,expression:"table_loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.table_loading,expression:"table_loading"}],staticStyle:{width:"100%"},attrs:{data:e.row.sub_orders}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"材质:"}},t._l(e.row.material,function(e,a){return n("span",[t._v(t._s(e.material?e.material.name:e.name)+"["+t._s(e.sub?e.sub.name:e.color_name)+"]数量"+t._s(e.num)+";")])})),t._v(" "),n("el-form-item",{attrs:{label:"装饰说明:"}},[n("span",[t._v(t._s(e.row.decoration))])]),t._v(" "),n("el-form-item",{attrs:{label:"样品图:"}},t._l(e.row.sample_imgs_final,function(t,e){return n("img",{attrs:{width:"80",src:t}})})),t._v(" "),n("el-form-item",{attrs:{label:"备注说明:"}},[n("span",[t._v(t._s(e.row.sample_info))])]),t._v(" "),n("el-form-item",{attrs:{label:"流程:"}},t._l(e.row.process,function(e,a){return n("span",[0!=a?n("span",[t._v("->")]):t._e(),t._v(t._s(e.name))])}))],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"帽型",prop:"product_cat_name"}}),t._v(" "),n("el-table-column",{attrs:{label:"型号",prop:"product_code"}}),t._v(" "),n("el-table-column",{attrs:{label:"客户款式",prop:"custom_model"}}),t._v(" "),n("el-table-column",{attrs:{label:"颜色",prop:"color_code"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.color_code))]),e.row.color_data?n("span",[t._v("-"+t._s(e.row.color_data.custom_model))]):t._e()]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"数量",prop:"sum"}}),t._v(" "),n("el-table-column",{attrs:{label:"交货时间",prop:"sales_order.delivery_date"}})],1)]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"客户单号",prop:"custom_order_no"}}),t._v(" "),n("el-table-column",{attrs:{label:"制单时间",prop:"order_date"}}),t._v(" "),n("el-table-column",{attrs:{label:"交货时间",prop:"delivery_date"}})],1),t._v(" "),n("div",{staticClass:"Pagination",staticStyle:{"text-align":"left","margin-top":"10px"}},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":t.limit,layout:"total, prev, pager, next",total:t.count,background:""},on:{"current-change":t.handleCurrentChange}})],1)],1):t._e(),t._v(" "),1==t.active?n("div",{staticClass:"table_container"},[n("div",{staticClass:"search_item"},[t._m(0),t._v(" "),n("el-input",{staticStyle:{width:"350px"},attrs:{clearable:"",placeholder:"请输入自定义名称"},model:{value:t.set_name,callback:function(e){t.set_name=e},expression:"set_name"}})],1),t._v(" "),n("div",{staticClass:"search_item"},[t._m(1),t._v(" "),n("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.order_date,callback:function(e){t.order_date=e},expression:"order_date"}})],1),t._v(" "),n("div",{staticClass:"search_item"},[t._m(2),t._v(" "),n("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:t.delivery_date,callback:function(e){t.delivery_date=e},expression:"delivery_date"}})],1),t._v(" "),n("div",{staticClass:"search_item"},[t._m(3),t._v(" "),n("el-input",{staticStyle:{width:"350px"},attrs:{clearable:"",placeholder:"请输入生产统筹员姓名"},model:{value:t.produce_man,callback:function(e){t.produce_man=e},expression:"produce_man"}})],1),t._v(" "),t._l(t.sub_orders,function(e,a){return n("div",{staticClass:"block"},[n("div",{staticClass:"search_item"},[t._m(4,!0),t._v(" "),n("el-select",{attrs:{disabled:2!=t.way,placeholder:"请选择","value-key":"id"},on:{change:function(n){t.change_product_cat(e)}},model:{value:e.product_cat,callback:function(n){t.$set(e,"product_cat",n)},expression:"sub_order.product_cat"}},t._l(t.options.options_product_cat,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),n("el-select",{attrs:{disabled:2!=t.way,placeholder:"请选择","value-key":"id"},on:{change:function(n){t.change_product(e)}},model:{value:e.product,callback:function(n){t.$set(e,"product",n)},expression:"sub_order.product"}},t._l(e.options_product_cat_product,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t}})}))],1),t._v(" "),n("div",{staticClass:"search_item"},[t._m(5,!0),t._v(" "),n("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},t._l(e.colors,function(e,a){return n("div",{staticStyle:{"margin-bottom":"3px"}},[n("el-select",{attrs:{disabled:2!=t.way,placeholder:"请选择","value-key":"id"},on:{change:function(n){t.change_color(e)}},model:{value:e.color,callback:function(n){t.$set(e,"color",n)},expression:"color.color"}},t._l(t.options.options_color,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),-1==e.id?n("el-input",{staticStyle:{width:"120px"},attrs:{disabled:2!=t.way,clearable:"",placeholder:"颜色"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"color.name"}}):t._e(),t._v(" "),n("el-input",{staticStyle:{width:"120px"},attrs:{disabled:2!=t.way,clearable:"",placeholder:"数量",type:"number"},model:{value:e.sum,callback:function(n){t.$set(e,"sum",n)},expression:"color.sum"}}),t._v(" "),e.order_codes?n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[t._v("\n                                    包含业务订单:"),n("br"),t._v(" "),t._l(e.order_codes,function(e,a){return n("p",[t._v(t._s(e))])})],2),t._v(" "),n("i",{staticClass:"iconfont"},[t._v("")])]):t._e()],1)}))]),t._v(" "),n("div",{staticClass:"search_item"},[n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[n("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("材料:\n                      "),e.sales_order_sub_diff_data&&e.sales_order_sub_diff_data.length&&e.sales_order_sub_diff_data.length>1?n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},t._l(e.sales_order_sub_diff_data,function(e,a){return n("p",[t._v("\n                                订单"+t._s(a)+":\n                                "),n("span",[t._v("\n                                    "+t._s(e.raw_material)+"\n                                ")])])})),t._v(" "),n("i",{staticClass:"iconfont"},[t._v("")])]):n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[t._v(t._s(e.raw_material))])]),t._v(" "),n("i",{staticClass:"iconfont"},[t._v("")])])],1),t._v(" "),n("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[t._l(e.material,function(e,i){return n("div",{staticStyle:{"margin-bottom":"3px"}},[n("el-select",{attrs:{"value-key":"id",placeholder:"请选择材料"},on:{change:function(n){t.change_material(e)}},model:{value:e.material,callback:function(n){t.$set(e,"material",n)},expression:"material.material"}},t._l(t.options.options_material,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),n("el-select",{attrs:{"value-key":"id",placeholder:"请选择颜色"},model:{value:e.sub,callback:function(n){t.$set(e,"sub",n)},expression:"material.sub"}},t._l(e.sub_options,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),n("el-input",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"数量"},model:{value:e.num,callback:function(n){t.$set(e,"num",n)},expression:"material.num"}}),t._v(" "),n("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:function(e){t.del_material(a,i)}}},[t._v("删除")])],1)}),t._v(" "),n("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:function(e){t.add_material(a)}}},[n("i",{staticClass:"iconfont",staticStyle:{"font-size":"10px"}},[t._v("")]),t._v("添加更多材料")])],2)]),t._v(" "),n("div",{staticClass:"search_item"},[t._m(6,!0),t._v(" "),n("el-select",{attrs:{multiple:"",placeholder:"请选择","value-key":"id"},on:{change:function(n){t.change_process(e)}},model:{value:e.process,callback:function(n){t.$set(e,"process",n)},expression:"sub_order.process"}},t._l(t.options.options_process,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t}})}))],1),t._v(" "),n("div",{staticClass:"search_item"},[n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("装饰说明:"),n("span",[e.sales_order_sub_diff_data&&e.sales_order_sub_diff_data.length&&e.sales_order_sub_diff_data.length>1?n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},t._l(e.sales_order_sub_diff_data,function(e,a){return n("p",{staticStyle:{"border-bottom":"1rpx dashed #999"}},[t._v("\n                                订单"+t._s(a)+":装饰说明:"+t._s(e.decoration)+";\n\n                            ")])})),t._v(" "),n("i",{staticClass:"iconfont"},[t._v("")])]):t._e()],1)]),t._v(" "),n("el-input",{staticStyle:{width:"350px","vertical-align":"middle"},attrs:{type:"textarea",clearable:"",placeholder:"请输入装饰说明"},model:{value:e.decoration,callback:function(n){t.$set(e,"decoration",n)},expression:"sub_order.decoration"}})],1),t._v(" "),n("div",{staticClass:"search_item"},[n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("装饰\\辅料:")]),t._v(" "),n("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[t._l(e.material_sub,function(e,i){return n("div",{staticStyle:{"margin-bottom":"3px"}},[n("el-select",{attrs:{"value-key":"id",placeholder:"请选择装饰/辅料"},model:{value:e.material,callback:function(n){t.$set(e,"material",n)},expression:"material_sub.material"}},t._l(t.options.options_material_sub,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),n("el-select",{attrs:{"value-key":"id",placeholder:"请选择来源"},model:{value:e.from,callback:function(n){t.$set(e,"from",n)},expression:"material_sub.from"}},t._l(t.material_sub_froms,function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t}})})),t._v(" "),n("el-input",{staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"数量"},model:{value:e.sum,callback:function(n){t.$set(e,"sum",n)},expression:"material_sub.sum"}}),t._v(" "),n("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:function(e){t.del_material_sub(a,i)}}},[t._v("删除")])],1)}),t._v(" "),n("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:function(e){t.add_material_sub(a)}}},[n("i",{staticClass:"iconfont",staticStyle:{"font-size":"10px"}},[t._v("")]),t._v("添加更多辅料")])],2)]),t._v(" "),n("div",{staticClass:"search_item"},[n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("样品图片:\n\n                      "),e.sales_order_sub_diff_data&&e.sales_order_sub_diff_data.length&&e.sales_order_sub_diff_data.length>1?n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},t._l(e.sales_order_sub_diff_data,function(e,a){return n("p",[t._v("\n                                订单"+t._s(a)+":\n                                "),t._l(e.sample_imgs_final,function(a,i){return e.sample_imgs_final&&e.sample_imgs_final.length?n("span",[n("img",{staticStyle:{margin:"5px",display:"inline-block",width:"50px"},attrs:{src:a}})]):t._e()})],2)})),t._v(" "),n("i",{staticClass:"iconfont"},[t._v("")])]):t._e()],1),t._v(" "),n("el-upload",{staticClass:"avatar-uploader",class:!e.sample_imgs||e.sample_imgs.length<t.img_upload_limit?"show_plus":"hide_plus",attrs:{action:t.upload_url,multiple:"","list-type":"picture-card","file-list":e.sample_imgs,"on-success":function(n,a,i){return t.handleAvatarSuccess(n,a,i,e)},"before-upload":t.beforeAvatarUpload,"on-preview":t.handlePictureCardPreview,"on-exceed":t.handleExceed,limit:t.img_upload_limit,"on-remove":function(e,n){return t.handleRemove(e,n,a)}}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1),t._v(" "),n("div",{staticClass:"search_item"},[n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[t._v("备注说明:\n                       "),e.sales_order_sub_diff_data&&e.sales_order_sub_diff_data.length&&e.sales_order_sub_diff_data.length>1?n("el-tooltip",{attrs:{placement:"top"}},[n("div",{attrs:{slot:"content"},slot:"content"},t._l(e.sales_order_sub_diff_data,function(e,a){return n("p",{staticStyle:{"border-bottom":"1rpx dashed #999"}},[t._v("\n                                订单"+t._s(a)+":备注说明:"+t._s(e.sample_info)+";\n\n                            ")])})),t._v(" "),n("i",{staticClass:"iconfont"},[t._v("")])]):t._e()],1),t._v(" "),n("el-input",{staticStyle:{width:"350px","vertical-align":"middle"},attrs:{type:"textarea",clearable:"",placeholder:"请输入备注说明"},model:{value:e.sample_info,callback:function(n){t.$set(e,"sample_info",n)},expression:"sub_order.sample_info"}})],1),t._v(" "),2==t.way?n("i",{staticClass:"iconfont del_block",on:{click:function(e){t.del_block(a)}}},[t._v("")]):t._e(),t._v(" "),n("el-badge",{staticClass:"mark",staticStyle:{position:"absolute",bottom:"0",right:"0"},attrs:{value:a+1}})],1)}),t._v(" "),2==t.way?n("div",{staticClass:"search_item add_block",on:{click:t.add_block}},[n("i",{staticClass:"iconfont",staticStyle:{"font-size":"10px"}},[t._v("")]),t._v("增加订单子项")]):t._e()],2):t._e(),t._v(" "),2==t.active?n("div",{staticClass:"table_container",staticStyle:{"text-align":"center"}},[n("p",[t._v("已成功生成如下订单:")]),t._v(" "),t._l(t.success_orders,function(e,a){return n("p",[t._v(t._s(e.order_no))])})],2):t._e(),t._v(" "),0==t.active&&1==t.way?n("el-button",{staticStyle:{margin:"20px auto",display:"flex"},attrs:{type:"success",loading:t.loading},on:{click:t.go_make}},[t._v("下一步")]):t._e(),t._v(" "),1==t.active?n("el-button",{staticStyle:{margin:"20px auto",display:"flex"},attrs:{type:"success",loading:t.loading},on:{click:t.submit}},[t._v("提交")]):t._e(),t._v(" "),2==t.active?n("el-button",{staticStyle:{margin:"20px auto",display:"flex"},attrs:{type:"success",loading:t.loading},on:{click:function(e){t.$router.replace({path:"produce_order"})}}},[t._v("返回列表")]):t._e()],1)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[n("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("生产单自定义名称:")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[n("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("制单日期:")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[n("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("交货日期:")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[n("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("生产统筹员:")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[n("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("帽型:")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[n("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("颜色:")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"pre_info",staticStyle:{"font-size":"14px"}},[n("i",{staticStyle:{color:"red"}},[t._v("*")]),t._v("流程:")])}]}}});